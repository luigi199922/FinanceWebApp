(this["webpackJsonpfinance-api"]=this["webpackJsonpfinance-api"]||[]).push([[4],{47:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return s}));var a=n(48),r=n.n(a),i=n(22),l="https://finnhub.io/api/v1/stock/candle?symbol=",o=function(e,t,n,a){return new Promise((function(o,c){var u=l+e+"&resolution="+t+"&from="+n+"&to="+a+i.a;console.log("formatAPIRequest"+u);var s=[];r.a.get(u).then((function(e){for(var t=e.data.o,n=e.data.h,a=e.data.l,r=e.data.c,i=e.data.t,l=0;l<t.length;l++)s.push({x:1e3*new Date(i[l]),y:[t[l],n[l],a[l],r[l]]});console.log(s),o(s)})).catch((function(e){console.log(e),c(e)}))}))},c=function(e){var t=e,n="";switch(t){case"stock":n="US";break;case"forex":n="oanda";break;case"crypto":n="binance";break;default:n="US"}return new Promise((function(e,a){var l="https://finnhub.io/api/v1/"+t+"/symbol?exchange="+n+i.a;r.a.get(l).then((function(t){for(var n=[],a=t.data,r=0;r<a.length;r++){var i=a[r].symbol;n.push({key:r,value:i,displayValue:i+" "+a[r].description})}e(n)})).catch((function(e){a(e)}))}))},u=function(e){return(new Date(e).getTime()/1e3).toString()},s=function(e,t,n,a){return new Promise((function(o,c){var u=l+e+"&resolution="+t+"&from="+n+"&to="+a+i.a;r.a.get(u).then((function(e){var t=0,n=0,a=e.data.c;console.log(a);for(var r=[],i=0;i<a.length;i++)i!==a.length-1&&(t+=(a[i+1]-a[i])/a[i]*100,r.push((a[i+1]-a[i])/a[i]*100),n+=1);var l=t/n,c=d(r);console.log(r),console.log("stDev"+c),console.log("ER"+l),o([l,c])})).catch((function(e){c(e)}))}))},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.reduce((function(e,t){return e+t}),0)/e.length;return Math.sqrt(e.reduce((function(e,t){return e.concat(Math.pow(t-n,2))}),[]).reduce((function(e,t){return e+t}),0)/(e.length-(t?0:1)))}},49:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(50);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},50:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return a}))},51:function(e,t,n){e.exports={Button:"Button_Button__3gFiX",Success:"Button_Success__2Rka1",Danger:"Button_Danger__2ogZq"}},52:function(e,t,n){e.exports={Input:"Input_Input__3r5Ke",Label:"Input_Label__1qyHr",InputElement:"Input_InputElement__2m88K",Invalid:"Input_Invalid__16Mis"}},53:function(e,t,n){e.exports={Form:"StockChartForm_Form__2JmaI"}},54:function(e,t,n){"use strict";var a=n(49),r=n(50),i=n(17),l=n(18),o=n(20),c=n(19),u=n(21),s=n(0),d=n.n(s),m=n(51),f=n.n(m),p=function(e){return d.a.createElement("button",{disabled:e.disabled,className:[f.a.Button,f.a[e.btnType]].join(" "),onClick:e.clicked,style:e.style},e.children)},v=n(52),h=n.n(v),g=function(e){var t=null,n=[h.a.InputElement];switch(e.invalid&&e.shouldValidate&&e.touched&&n.push(h.a.Invalid),e.elementType){case"input":t=d.a.createElement("input",Object.assign({className:n.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}));break;case"textarea":t=d.a.createElement("textarea",Object.assign({},e.elementConfig,{value:e.value,onChange:e.changed}));break;case"select":t=d.a.createElement("select",Object.assign({className:n.join(" ")},e.elementConfig,{value:e.value,onChange:e.changed}),e.elementConfig.options.map((function(e,t){return d.a.createElement("option",{key:e.value+t,value:e.value},e.displayValue)})));break;default:t=d.a.createElement("input",Object.assign({className:n.join(" ")},e.elementConfig,{value:e.value}))}return d.a.createElement("div",{className:n.join(" ")},d.a.createElement("label",{className:h.a.Label},e.label),t)},b=function(e,t){return Object(a.a)({},e,{},t)},y=function(e,t){var n=!0;return!t||(t.required&&(n=""!==e.trim()&&n),t.minLength&&(n=e.length>=t.minLength&&n),t.maxLength&&(n=e.length<=t.maxLength&&n),n)},k=n(47),O=n(53),j=n.n(O),E=n(10),D=n(5),S=Object(D.f)((function(e){var t=e.ticker,n=t.elementType,a=t.valid,r=t.validation,i=t.value,l=t.touched,o=t.label,c=e.match.path,u=e.inputChangedHandler,m=Object(s.useState)([]),f=Object(E.a)(m,2),p=f[0],v=f[1];Object(s.useEffect)((function(e){console.log("Use Effect Called"),Object(k.d)(c.slice(1)).then((function(e){return v(e)})),console.log(c)}),[c]);var h={options:p},b=null;return p.length>0&&(b=d.a.createElement(g,{key:"ticker",elementType:n,elementConfig:h,invalid:a,shouldValidate:r,value:i,touched:l,label:o,changed:function(e){return u(e,"ticker")}})),d.a.createElement(d.a.Fragment,null,b)})),C=function(e){function t(){var e,n;Object(i.a)(this,t);for(var l=arguments.length,u=new Array(l),s=0;s<l;s++)u[s]=arguments[s];return(n=Object(o.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(u)))).state={inputForm:{startDate:{elementType:"input",elementConfig:{type:"date",placeholder:"Start Date"},value:"",label:"Start Date",validation:{required:!0,minLength:6},valid:!1,touched:!1},endDate:{elementType:"input",elementConfig:{type:"date",placeholder:"End Date"},value:"",label:"End Date",validation:{required:!0,minLength:6},valid:!1,touched:!1},timeFrame:{elementType:"select",elementConfig:{options:[{value:"1",displayValue:"1"},{value:"5",displayValue:"5"},{value:"15",displayValue:"15"},{value:"30",displayValue:"30"},{value:"60",displayValue:"60"},{value:"D",displayValue:"D"},{value:"W",displayValue:"W"},{value:"M",displayValue:"M"}]},value:"30",validation:{required:!0},label:"Time Frame"}},ticker:{elementType:"select",elementConfig:{options:[]},value:"",validation:{required:!0},label:"Ticker Symbol"}},n.onSubmitHandler=function(e){e.preventDefault();var t={};for(var a in n.state.inputForm)t[a]=n.state.inputForm[a].value;t.ticker=n.state.ticker.value,t.startDate=Object(k.a)(t.startDate),t.endDate=Object(k.a)(t.endDate),console.log(t),n.props.formSubmit(t)},n.inputChangedHandler=function(e,t){var a=b(n.state.inputForm[t],{value:e.target.value,valid:y(e.target.value,n.state.inputForm[t].validation),touched:!0}),i=b(n.state.inputForm,Object(r.a)({},t,a)),l=!0;for(var o in i)!1===i[o].valid&&(l=!1);n.setState({inputForm:i,formIsValid:l})},n.inputTickerChangedHandler=function(e){var t=b(n.state.ticker,Object(a.a)({},n.state.ticker,{value:e.target.value}));n.setState({ticker:t})},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=[];for(var n in this.state.inputForm)t.push({id:n,config:this.state.inputForm[n]});var a=d.a.createElement("form",{onSubmit:this.onSubmitHandler},d.a.createElement(S,{ticker:this.state.ticker,inputChangedHandler:this.inputTickerChangedHandler}),t.map((function(t,n){return d.a.createElement(g,{key:t.id,elementType:t.config.elementType,elementConfig:t.config.elementConfig,invalid:!t.config.valid,shouldValidate:t.config.validation,value:t.config.value,touched:t.config.touched,label:t.config.label,changed:function(n){return e.inputChangedHandler(n,t.id)}})})),d.a.createElement(p,{btnType:"Success",disabled:!this.state.formIsValid},"SUBMIT"));return d.a.createElement("div",{className:j.a.Form},a)}}]),t}(s.Component);t.a=C},84:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var a=n(10),r=n(17),i=n(18),l=n(20),o=n(19),c=n(21),u=n(0),s=n.n(u),d=n(47),m=n(54),f=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).state={loading:!0,ticker:"AAPL",expectedReturns:0,stDev:0,timePeriod:"",error:null,initialTicker:{ticker:"EPZM",timeFrame:"15",startDate:"1572651390",endDate:"1573910590"}},n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.onSubmitFormHandler=this.onSubmitFormHandler.bind(this),this.onSubmitFormHandler()}},{key:"onSubmitFormHandler",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.initialTicker,n=Object(d.c)(t.ticker,t.timeFrame,t.startDate,t.endDate);n.then((function(n){var r=Object(a.a)(n,2),i=r[0],l=r[1];return e.setState({loading:!1,expectedReturns:i,stDev:l,ticker:t.ticker})})).catch((function(t){return e.setState({error:t})}))}},{key:"render",value:function(){var e=null;return this.state.loading||(e=s.a.createElement("div",{style:{margin:"auto"}},s.a.createElement("h2",null,this.state.ticker),s.a.createElement("p",null,"Expected Returns: ",this.state.expectedReturns," %"),s.a.createElement("p",null,"Risk: ",this.state.stDev," %"))),s.a.createElement("div",null,e,s.a.createElement(m.a,{forex:!1,formSubmit:this.onSubmitFormHandler}))}}]),t}(s.a.Component)}}]);
//# sourceMappingURL=4.754ce0f8.chunk.js.map