(this["webpackJsonpfinance-api"]=this["webpackJsonpfinance-api"]||[]).push([[10],{114:function(e,t,n){"use strict";var a=n(23),r=n(0),o=n.n(r),c=n(16),i=n(98),l=n(39);t.a=Object(c.g)((function(e){var t=e.ticker,n=t.elementType,c=t.valid,u=t.validation,s=t.value,f=t.touched,m=t.label,p=e.match.path,d=e.inputChangedHandler,h=Object(r.useState)([]),b=Object(a.a)(h,2),v=b[0],y=b[1];Object(r.useEffect)((function(e){console.log("Use Effect Called"),Object(i.g)(p.slice(1)).then((function(e){return y(e)})),console.log(p)}),[p]);var g={options:v},O=null;return v.length>0&&(O=o.a.createElement(l.a,{key:"ticker",elementType:n,elementConfig:g,invalid:c,shouldValidate:u,value:s,touched:f,label:m,changed:function(e){return d(e,"ticker")}})),o.a.createElement(o.a.Fragment,null,O)}))},115:function(e,t,n){"use strict";var a=n(8),r=n.n(a),o=n(99),c=n(23),i=n(0),l=n.n(i),u=n(98),s=n(116),f=n.n(s),m=n(37),p=n(16),d=n(19),h=n(18),b=n(10);t.a=Object(h.b)((function(e){return{isAuth:void 0!==e.auth.token,token:e.auth.token}}))(Object(p.g)((function(e){var t=e.ticker,n=e.history,a=e.isAuth,s=e.token,p=Object(i.useState)({}),h=Object(c.a)(p,2),v=h[0],y=h[1];Object(i.useEffect)((function(){Object(u.e)(t).then((function(e){return y(e)}))}),[t]);var g=function(){var e=Object(o.a)(r.a.mark((function e(){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return",O());case 2:return e.next=4,d.a.patch("watchlist",{symbol:t},Object(b.c)(s));case 4:n=e.sent,console.log(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){n.push("/login")};return console.log(a),l.a.createElement("div",{className:f.a.Container},l.a.createElement("p",null,t),l.a.createElement("p",{className:f.a.Price},v.priceClose),l.a.createElement("p",{className:f.a.Date},v.date),l.a.createElement(m.a,{btnType:"Info",className:{backgroundColor:"none"}},"Buy"),l.a.createElement(m.a,{btnType:"Info"},"Sell"),l.a.createElement(m.a,{btnType:"Info",clicked:g},"Add to Favorites"))})))},116:function(e,t,n){e.exports={Container:"SecurityInfo_Container__1VStK",Price:"SecurityInfo_Price__3t1fR",Date:"SecurityInfo_Date__Oiu0K"}},175:function(e,t,n){e.exports={Container:"Options_Container__10n85"}},288:function(e,t,n){e.exports={Row:"Row_Row__1ysdh"}},289:function(e,t,n){e.exports=n.p+"static/media/Delete.6531b738.svg"},349:function(e,t,n){"use strict";n.r(t);var a=n(8),r=n.n(a),o=n(99),c=n(31),i=n(23),l=n(0),u=n.n(l),s=n(175),f=n.n(s),m=n(114),p=n(10),d=n(98),h=n(39),b=n(37),v=function(e){return u.a.createElement("td",null,e.children)},y=n(288),g=n.n(y),O=n(340),E=function(e){var t,n=e.option,a=e.optionDisplay,r=e.addOption,o=n.inTheMoney;return t=Object.keys(a).map((function(e,t){return"lastTradeDateTime"===e?u.a.createElement(v,{key:t},new Date(n.lastTradeDateTime.split(" ")).toDateString()):"number"===typeof n[e]?u.a.createElement(v,{key:t},n[e].toFixed(2)):u.a.createElement(v,{key:t},n[e])})),u.a.createElement("tr",{className:"TRUE"===o?g.a.Row:null},t,u.a.createElement(v,null,u.a.createElement(O.a,{color:"primary",onClick:function(){return r(n,"LONG")}},"Long"),u.a.createElement(O.a,{color:"primary",onClick:function(){return r(n,"SHORT")}},"Short")))},k=function(e){var t=e.ticker,n=e.expirationDate,a=e.optionDisplay,r=e.optionType,o=e.addOption,c=Object(l.useState)([]),s=Object(i.a)(c,2),f=s[0],m=s[1];Object(l.useEffect)((function(){Object(d.d)(t,n,r,!0).then((function(e){return m(e)})).catch((function(e){return console.log(e)}))}),[t,r,n]);var h=null;f.length>0&&(h=f.map((function(e){return u.a.createElement(E,{addOption:o,key:e.contractName,optionDisplay:a,option:e})})));var b=Object.keys(a).map((function(e,t){return u.a.createElement("th",{key:t},p.e[e])}));return u.a.createElement("div",null,u.a.createElement("h2",null,r+"S"," for ",new Date(n).toDateString()),u.a.createElement("table",null,u.a.createElement("thead",null,u.a.createElement("tr",null,b)),u.a.createElement("tbody",null,h)))},j=n(115),C=n(331),S=n(122),T=n.n(S),w=function(e){var t=e.title,n=e.ticker,a=e.data,r=e.labels;return Object(l.useEffect)((function(){var e=document.getElementById("myChart").getContext("2d");new T.a(e,{type:"line",data:{labels:r,datasets:[{lineTension:0,fill:!1,label:n,data:a,backgroundColor:["red"],borderColor:["red"],borderWidth:1}]},options:{title:{display:!0,text:t},scales:{}}})}),[a,r,n,t]),u.a.createElement("div",{style:{margin:"auto",width:"600px"}},u.a.createElement("canvas",{id:"myChart",width:"400",height:"400"}))},D=function(e){var t=Object.keys(e),n=0;return t.forEach((function(t){e[t].strike>n&&(n=e[t].strike)})),n},x=function(e,t,n,a,r){for(var o=0;o<a.length;o++)e[t]+=(c=n[a[o]],i=t,("CALL"===c.type?c.contractName.includes("LONG")?Math.max(i-parseInt(c.strike),0)*c.amount:Math.min(0,c.strike-i)*c.amount:c.contractName.includes("LONG")?Math.max(parseInt(c.strike)-i,0)*c.amount:Math.min(0,i-c.strike)*c.amount)-r);var c,i},N=function(e){var t=Object.keys(e),n=0;return t.forEach((function(t){e[t].contractName.includes("SHORT")?n-=e[t].bid*e[t].amount:n+=e[t].ask*e[t].amount})),n},L=n(290),P=n.n(L),R=n(353),_=n(358),I=n(342),A=n(341),H=n(338),M=n(347),V=n(289),q=n.n(V),F=Object(A.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}})),U=function(e){var t=e.option,n=e.option,a=n.contractName,r=n.strike,o=n.amount,c=n.ask,i=n.type,l=e.removeOption,s=F();return u.a.createElement(R.a,{key:a,elevation:12},u.a.createElement(_.a,null,u.a.createElement(H.a,{className:s.heading}," ",a," Strike: ",r," ",a.includes("SHORT")?"Premium":"Cost",": ",c*o," ","Amount: ",o," Type: ",i),u.a.createElement(P.a,null)),u.a.createElement(I.a,null,u.a.createElement(M.a,{id:"standard-number",label:"Amount",type:"number",defaultValue:o,onChange:function(e){return t.amount=e.target.value},InputLabelProps:{shrink:!0}}),u.a.createElement(M.a,{id:"filled-read-only-input",label:a.includes("SHORT")?"Premium":"Cost",defaultValue:c*o,InputProps:{readOnly:!0},variant:"filled"}),u.a.createElement("img",{src:q.a,alt:"Remove",onClick:function(){return l(a)}})))},G=function(e){var t=e.options,n=e.removeOption,a=Object(l.useState)([]),r=Object(i.a)(a,2),o=r[0],c=r[1],s=Object(l.useState)([]),f=Object(i.a)(s,2),m=f[0],p=f[1],d=Object(l.useState)(!1),h=Object(i.a)(d,2),b=h[0],v=h[1];Object(l.useEffect)((function(){if(0===Object.keys(t).length)return v(!1);var e=function(e){for(var t=D(e),n=Math.floor(1.25*t),a=Object.keys(e),r=new Array(n).fill(0),o=[],c=N(e),i=0;i<r.length;i++)o.push(i),x(r,i,e,a,c);return{data:r,labels:o}}(t),n=e.data,a=e.labels;c(n),p(a)}),[t]);var y=Object.keys(t).map((function(e){var a=t[e];return u.a.createElement(U,{option:a,removeOption:n})}));return u.a.createElement(u.a.Fragment,null,u.a.createElement(C.a,null,u.a.createElement("div",null,u.a.createElement("h3",null,"Analyze Option Portfolio:"),y,y.length>0&&u.a.createElement(u.a.Fragment,null,u.a.createElement(O.a,{color:"primary",onClick:function(){return v(!0)}},"View Chart"),u.a.createElement(O.a,{color:"primary",onClick:function(){return v(!1)}},"Hide Chart"))),b&&u.a.createElement(w,{title:"Some Title",data:o,labels:m})))};t.default=function(e){var t=e.history,n=Object(l.useState)({elementType:"select",elementConfig:{options:[]},value:"",validation:{required:!0},label:"Ticker Symbol"}),a=Object(i.a)(n,2),s=a[0],v=a[1],y=Object(l.useState)({elementType:"select",elementConfig:{options:[]},value:"",validation:{required:!0},label:"Expiration Date",touched:!1}),g=Object(i.a)(y,2),O=g[0],E=g[1],C=Object(l.useState)(!1),S=Object(i.a)(C,2),T=S[0],w=S[1],D=Object(l.useState)(!1),x=Object(i.a)(D,2),N=x[0],L=x[1],P=Object(l.useState)("CALL"),R=Object(i.a)(P,2),_=R[0],I=R[1],A=Object(l.useState)(!0),H=Object(i.a)(A,2),M=H[0],V=H[1],q=Object(l.useState)({}),F=Object(i.a)(q,2),U=F[0],W=F[1],z=function(){W({})},B=function(){var e=Object(o.a)(r.a.mark((function e(n){var a,o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(p.f)(s,Object(c.a)({},s,{value:n.target.value})),z(),t.push("/options/"+n.target.value+"/"),v(a),e.next=6,Object(d.c)(n.target.value);case 6:o=e.sent,i=Object(c.a)({},O,{elementConfig:{options:o}}),E(i);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(e){I(e)},K=O,Q=null;K.elementConfig.options.length>0&&(Q=u.a.createElement(h.a,{key:1,elementType:K.elementType,elementConfig:K.elementConfig,invalid:!1,shouldValidate:K.validation.required,value:K.value,touched:K.touched,label:K.label,changed:function(e){return function(e){z();var t=Object(p.f)(O,Object(c.a)({},O,{value:e.target.value})),n=!0;for(var a in t)!1===t[a].valid&&(n=!1);E(t),w(n)}(e)}}));var X=null;return""!==s.value&&(X=u.a.createElement(j.a,{ticker:s.value})),u.a.createElement("div",{className:f.a.Container},X,u.a.createElement(G,{options:U,removeOption:function(e){var t=Object(c.a)({},U);delete t[e],W(t)}}),u.a.createElement("form",{onSubmit:function(e){e.preventDefault(),L(!0)}},u.a.createElement(m.a,{ticker:s,inputChangedHandler:B}),Q,u.a.createElement(b.a,{btnType:"Success",disabled:!T},"Submit")),u.a.createElement(b.a,{btnType:"Info",clicked:function(){return J("CALL")}},"Calls"),u.a.createElement(b.a,{btnType:"Info",clicked:function(){return J("PUT")}},"Puts"),u.a.createElement("div",{style:{display:"inline-block"}},u.a.createElement("p",null,"Display: ")," ",u.a.createElement("p",{onClick:function(){V(!M)}},"List")," ",u.a.createElement("p",null,"Straddle")),N&&u.a.createElement(k,{addOption:function(e,t){var n=Object(c.a)({},U);e.contractName=e.contractName.replace("LONG",""),e.contractName=e.contractName.replace("SHORT",""),e.contractName+=t,e.contractName in n?n[e.contractName].amount+=1:(e.amount=1,n[e.contractName]=e),W(n)},optionDisplay:p.d,ticker:s.value,expirationDate:O.value,optionType:_,displayList:M}))}},98:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"g",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return d}));n(8),n(99);var a=n(40),r=n.n(a),o=n(41),c="https://finnhub.io/api/v1/stock/candle?symbol=",i=function(e,t,n,a){return new Promise((function(i,l){var u=c+e+"&resolution="+t+"&from="+n+"&to="+a+o.a,s=[];r.a.get(u).then((function(e){for(var t=e.data.o,n=e.data.h,a=e.data.l,r=e.data.c,o=e.data.t,c=0;c<t.length;c++)s.push({x:1e3*new Date(o[c]),y:[t[c],n[c],a[c],r[c]]});i(s)})).catch((function(e){console.log(e),l(e)}))}))},l=function(e){var t=e,n="";switch(t){case"stock":n="US";break;case"forex":n="oanda";break;case"crypto":n="binance";break;default:t="stock",n="US"}return new Promise((function(e,a){var c="https://finnhub.io/api/v1/"+t+"/symbol?exchange="+n+o.a;r.a.get(c).then((function(t){for(var n=[],a=t.data,r=0;r<a.length;r++){var o=a[r].symbol;n.push({key:r,value:o,displayValue:o+" "+a[r].description})}e(n)})).catch((function(e){a(e)}))}))},u=function(e){return(new Date(e).getTime()/1e3).toString()},s=function(e,t,n,a){return new Promise((function(i,l){var u=c+e+"&resolution="+t+"&from="+n+"&to="+a+o.a;r.a.get(u).then((function(e){var t=0,n=0,a=e.data.c;console.log(a);for(var r=[],o=0;o<a.length;o++)o!==a.length-1&&(t+=(a[o+1]-a[o])/a[o]*100,r.push((a[o+1]-a[o])/a[o]*100),n+=1);var c=t/n,l=f(r);console.log(r),console.log("stDev"+l),console.log("ER"+c),i([c,l])})).catch((function(e){l(e)}))}))},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.reduce((function(e,t){return e+t}),0)/e.length;return Math.sqrt(e.reduce((function(e,t){return e.concat(Math.pow(t-n,2))}),[]).reduce((function(e,t){return e+t}),0)/(e.length-(t?0:1)))},m=function(e){var t=" https://finnhub.io/api/v1/stock/option-chain?symbol="+e+o.a;return console.log(t),new Promise((function(e,n){r.a.get(t).then((function(t){for(var n=[],a=t.data.data,r=0;r<a.length;r++)n.push({key:r,value:a[r].expirationDate,displayValue:a[r].expirationDate});e(n)})).catch((function(e){console.log(e),n(e)}))}))},p=function(e,t,n,a){var c="https://finnhub.io/api/v1/stock/option-chain?symbol="+e+o.a;return new Promise((function(e,o){r.a.get(c).then((function(r){for(var o=r.data.data,c=[],i=0;i<o.length;i++)if(0===t.localeCompare(o[i].expirationDate)){c=a?o[i].options[n]:o[i].options.CALL;break}e(c)})).catch((function(e){o(e)}))}))},d=function(e){var t="https://finnhub.io/api/v1/quote?symbol="+e+o.a;return new Promise((function(e,n){r.a.get(t).then((function(t){var n={priceClose:t.data.pc,date:new Date(t.data.t).toDateString()};e(n)})).catch((function(e){n(e)}))}))}}}]);
//# sourceMappingURL=10.bdcbcdb3.chunk.js.map