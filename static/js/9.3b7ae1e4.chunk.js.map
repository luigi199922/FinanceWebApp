{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/inherits.js","../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","containers/Auth/Auth.module.css","components/UI/Spinner/Spinner.js","components/UI/Spinner/Spinner.module.css","containers/Auth/Signup/Signup.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_possibleConstructorReturn","self","call","_typeof","obj","Symbol","iterator","constructor","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_setPrototypeOf","p","_inherits","subClass","superClass","create","value","_assertThisInitialized","ReferenceError","module","exports","Spinner","className","classes","loader","Auth","state","controls","email","elementType","elementConfig","type","placeholder","label","validation","required","isEmail","valid","touched","username","password1","minLength","password2","error","IsSignup","inputChangedHandler","event","controlName","updatedControls","updateObject","checkValidity","setState","submitHandler","preventDefault","userData","password","onSignup","switchAuthModeHandler","history","push","this","auth","token","console","log","onSetAuthRedirectPath","form","createForm","loading","authRedirect","isAuthenticated","to","authRedirectPath","errorMessage","style","color","MainContainer","Container","onSubmit","btnType","clicked","React","Component","connect","dispatch","actions"],"mappings":"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","file":"static/js/9.3b7ae1e4.chunk.js","sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Auth_Container__1mT3e\",\"MainContainer\":\"Auth_MainContainer__1u_qd\"};","import React from 'react'\nimport classes from './Spinner.module.css'\nconst Spinner = () => {\n    return(\n        <div className={classes.loader}>Loading...</div>\n    )\n}\nexport default Spinner;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Spinner_loader__fTuX5\",\"load3\":\"Spinner_load3__3VkKK\"};","import React from \"react\";\nimport Button from \"../../../components/UI/Button/Button\";\nimport classes from \"../Auth.module.css\";\nimport { Redirect } from \"react-router-dom\";\nimport Spinner from \"../../../components/UI/Spinner/Spinner\";\nimport { updateObject, checkValidity } from \"../../../shared/utility\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../../../store/actions/index\";\nimport { createForm } from \"../../../shared/utility\";\n\nclass Auth extends React.Component {\n  state = {\n    controls: {\n      email: {\n        elementType: \"input\",\n        elementConfig: {\n          type: \"email\",\n          placeholder: \"Your Email\",\n        },\n        value: \"\",\n        label: \"Email\",\n        validation: {\n          required: true,\n          isEmail: true,\n        },\n        valid: false,\n        touched: false,\n      },\n      username: {\n        elementType: \"input\",\n        elementConfig: {\n          type: \"text\",\n          placeholder: \"Desired Username\",\n        },\n        value: \"\",\n        label: \"Username\",\n        validation: {\n          required: true,\n          isEmail: true,\n        },\n        valid: false,\n        touched: false,\n      },\n      password1: {\n        elementType: \"input\",\n        elementConfig: {\n          type: \"password\",\n          placeholder: \"Your Password\",\n        },\n        value: \"\",\n        label: \"Password\",\n        validation: {\n          required: true,\n          minLength: 6,\n        },\n        valid: false,\n        touched: false,\n      },\n      password2: {\n        elementType: \"input\",\n        elementConfig: {\n          type: \"password\",\n          placeholder: \"Confirm Password\",\n        },\n        value: \"\",\n        label: \"Confirm Password\",\n        validation: {\n          required: true,\n          minLength: 6,\n        },\n        valid: false,\n        touched: false,\n      },\n    },\n    error: \"\",\n    IsSignup: true,\n  };\n\n  componentDidMount() {\n    if (this.props.auth.token !== null) {\n      console.log(\"ONSETAUTHREDIRECT\");\n      this.props.onSetAuthRedirectPath();\n    }\n  }\n\n  inputChangedHandler = (event, controlName) => {\n    const updatedControls = updateObject(this.state.controls, {\n      [controlName]: updateObject(this.state.controls[controlName], {\n        value: event.target.value,\n        valid: checkValidity(\n          event.target.value,\n          this.state.controls[controlName].validation\n        ),\n        touched: true,\n      }),\n    });\n    this.setState({\n      controls: updatedControls,\n    });\n  };\n\n  submitHandler = (event) => {\n    event.preventDefault();\n    const password1 = this.state.controls.password1.value;\n    const password2 = this.state.controls.password2.value;\n    if (password1 !== password2) {\n      return this.setState({ error: \"Passwords must be equal\" });\n    }\n    const userData = {\n      email: this.state.controls.email.value,\n      username: this.state.controls.username.value,\n      password: this.state.controls.password1.value,\n    };\n    this.props.onSignup(userData);\n  };\n\n  switchAuthModeHandler = () => {\n    this.props.history.push(\"/login\");\n  };\n\n  render() {\n    let form = createForm(this.state.controls, this.inputChangedHandler);\n\n    if (this.props.loading) {\n      form = <Spinner />;\n    }\n\n    let authRedirect = null;\n    if (this.props.isAuthenticated) {\n      authRedirect = <Redirect to={this.props.authRedirectPath} />;\n    }\n    let errorMessage = null;\n    if (this.props.auth.error) {\n      errorMessage = <p style={{ color: \"red\" }}>{this.props.auth.error}</p>;\n    }\n    if (this.state.error) {\n      errorMessage = <p style={{ color: \"red\" }}>{this.state.error}</p>;\n    }\n    return (\n      <div className={classes.MainContainer}>\n        <div className={classes.Container}>\n          <h2>Sign up</h2>\n          {authRedirect}\n          {errorMessage}\n          <form onSubmit={this.submitHandler}>\n            {form}\n\n            <Button btnType=\"Info\" type=\"submit\">\n              {\" \"}\n              Sign Up{\" \"}\n            </Button>\n            <Button btnType=\"Info\" clicked={this.switchAuthModeHandler}>\n              {\" \"}\n              Login{\" \"}\n            </Button>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.auth,\n    isAuthenticated: state.auth.token !== null,\n    authRedirectPath: state.auth.authRedirectPath,\n    loading: state.auth.loading,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onSignup: (username, email, password1, password2) => {\n      dispatch(actions.signup(username, email, password1, password2));\n    },\n    onSetAuthRedirectPath: () => dispatch(actions.setAuthRedirectPath(\"/\")),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Auth);\n"],"sourceRoot":""}