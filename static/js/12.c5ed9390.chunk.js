(this["webpackJsonpfinance-api"]=this["webpackJsonpfinance-api"]||[]).push([[12],{111:function(e,t,n){"use strict";var a=n(23),i=n(0),r=n.n(i),o=n(16),c=n(96),u=n(39);t.a=Object(o.g)((function(e){var t=e.ticker,n=t.elementType,o=t.valid,l=t.validation,s=t.value,d=t.touched,f=t.label,h=e.match.path,p=e.inputChangedHandler,m=Object(i.useState)([]),v=Object(a.a)(m,2),b=v[0],g=v[1];Object(i.useEffect)((function(e){console.log("Use Effect Called"),Object(c.g)(h.slice(1)).then((function(e){return g(e)})),console.log(h)}),[h]);var y={options:b},k=null;return b.length>0&&(k=r.a.createElement(u.a,{key:"ticker",elementType:n,elementConfig:y,invalid:o,shouldValidate:l,value:s,touched:d,label:f,changed:function(e){return p(e,"ticker")}})),r.a.createElement(r.a.Fragment,null,k)}))},112:function(e,t,n){"use strict";var a=n(8),i=n.n(a),r=n(97),o=n(23),c=n(0),u=n.n(c),l=n(96),s=n(113),d=n.n(s),f=n(37),h=n(16),p=n(19),m=n(18),v=n(10);t.a=Object(m.b)((function(e){return{isAuth:void 0!==e.auth.token,token:e.auth.token}}))(Object(h.g)((function(e){var t=e.ticker,n=e.history,a=e.isAuth,s=e.token,h=Object(c.useState)({}),m=Object(o.a)(h,2),b=m[0],g=m[1];Object(c.useEffect)((function(){Object(l.e)(t).then((function(e){return g(e)}))}),[t]);var y=function(){var e=Object(r.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return",k());case 2:return e.next=4,p.a.patch("watchlist",{symbol:t},Object(v.c)(s));case 4:n=e.sent,console.log(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){n.push("/login")};return console.log(a),u.a.createElement("div",{className:d.a.Container},u.a.createElement("p",null,t),u.a.createElement("p",{className:d.a.Price},b.priceClose),u.a.createElement("p",{className:d.a.Date},b.date),u.a.createElement(f.a,{btnType:"Info",className:{backgroundColor:"none"}},"Buy"),u.a.createElement(f.a,{btnType:"Info"},"Sell"),u.a.createElement(f.a,{btnType:"Info",clicked:y},"Add to Favorites"))})))},113:function(e,t,n){e.exports={Container:"SecurityInfo_Container__1VStK",Price:"SecurityInfo_Price__3t1fR",Date:"SecurityInfo_Date__Oiu0K"}},125:function(e,t,n){"use strict";var a=n(31),i=n(38),r=n(95),o=n(104),c=n(99),u=n(100),l=n(102),s=n(0),d=n.n(s),f=n(37),h=n(39),p=n(10),m=n(96),v=n(111),b=n(288),g=function(e){function t(){var e,n;Object(r.a)(this,t);for(var o=arguments.length,l=new Array(o),s=0;s<o;s++)l[s]=arguments[s];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={inputForm:{startDate:{elementType:"input",elementConfig:{type:"date",placeholder:"Start Date"},value:"",label:"Start Date",validation:{required:!0,minLength:6},valid:!1,touched:!1},endDate:{elementType:"input",elementConfig:{type:"date",placeholder:"End Date"},value:"",label:"End Date",validation:{required:!0,minLength:6},valid:!1,touched:!1},timeFrame:{elementType:"select",elementConfig:{options:[{value:"1",displayValue:"1"},{value:"5",displayValue:"5"},{value:"15",displayValue:"15"},{value:"30",displayValue:"30"},{value:"60",displayValue:"60"},{value:"D",displayValue:"D"},{value:"W",displayValue:"W"},{value:"M",displayValue:"M"}]},value:"30",validation:{required:!0},label:"Time Frame"}},ticker:{elementType:"select",elementConfig:{options:[]},value:"",validation:{required:!0},label:"Ticker Symbol"}},n.onSubmitHandler=function(e){e.preventDefault();var t={};for(var a in n.state.inputForm)t[a]=n.state.inputForm[a].value;t.ticker=n.state.ticker.value,t.startDate=Object(m.a)(t.startDate),t.endDate=Object(m.a)(t.endDate),n.props.formSubmit(t)},n.inputChangedHandler=function(e,t){var a=Object(p.f)(n.state.inputForm[t],{value:e.target.value,valid:Object(p.a)(e.target.value,n.state.inputForm[t].validation),touched:!0}),r=Object(p.f)(n.state.inputForm,Object(i.a)({},t,a)),o=!0;for(var c in r)!1===r[c].valid&&(o=!1);n.setState({inputForm:r,formIsValid:o})},n.inputTickerChangedHandler=function(e){var t=Object(p.f)(n.state.ticker,Object(a.a)({},n.state.ticker,{value:e.target.value}));n.setState({ticker:t})},n}return Object(l.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=[];for(var n in this.state.inputForm)t.push({id:n,config:this.state.inputForm[n]});var a=d.a.createElement("form",{onSubmit:this.onSubmitHandler},d.a.createElement(v.a,{ticker:this.state.ticker,inputChangedHandler:this.inputTickerChangedHandler}),t.map((function(t,n){return d.a.createElement(h.a,{key:t.id,elementType:t.config.elementType,elementConfig:t.config.elementConfig,invalid:!t.config.valid,shouldValidate:t.config.validation,value:t.config.value,touched:t.config.touched,label:t.config.label,changed:function(n){return e.inputChangedHandler(n,t.id)}})})),d.a.createElement(f.a,{btnType:"Success",disabled:!this.state.formIsValid},"SUBMIT"));return d.a.createElement(b.a,null,a)}}]),t}(s.Component);t.a=g},304:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(95),o=n(104),c=n(99),u=n(100),l=n(102),s=n(265),d=n.n(s),f=n(96),h=n(125),p=n(112),m=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={ticker:"",loading:!0,error:null,data:[],initialGraph:{ticker:"",timeFrame:"",startDate:"",endDate:""}},n}return Object(l.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.onSubmitFormHandler=this.onSubmitFormHandler.bind(this),this.onSubmitFormHandler()}},{key:"onSubmitFormHandler",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.initialGraph,n=Object(f.b)(t.ticker,t.timeFrame,t.startDate,t.endDate);n.then((function(n){return e.setState({loading:!1,data:n,ticker:t.ticker})})).catch((function(t){return e.setState({error:t})}))}},{key:"render",value:function(){var e={chart:{type:"candlestick",height:350},title:{text:this.state.ticker,align:"left"},xaxis:{type:"datetime"},yaxis:{tooltip:{enabled:!0}}},t=null;if(!this.state.loading){var n=[{data:this.state.data}];t=i.a.createElement(d.a,{options:e,series:n,type:"candlestick",height:350})}var a=null;return""!==this.state.ticker&&(a=i.a.createElement(p.a,{ticker:this.state.ticker})),i.a.createElement("div",null,a,t,i.a.createElement(h.a,{instrument:this.props.instrument,formSubmit:this.onSubmitFormHandler}))}}]),t}(i.a.Component);t.default=function(e){return i.a.createElement(m,{instrument:e.match.path.slice(1)})}},96:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return p}));n(8),n(97);var a=n(40),i=n.n(a),r=n(41),o="https://finnhub.io/api/v1/stock/candle?symbol=",c=function(e,t,n,a){return new Promise((function(c,u){var l=o+e+"&resolution="+t+"&from="+n+"&to="+a+r.a,s=[];i.a.get(l).then((function(e){for(var t=e.data.o,n=e.data.h,a=e.data.l,i=e.data.c,r=e.data.t,o=0;o<t.length;o++)s.push({x:1e3*new Date(r[o]),y:[t[o],n[o],a[o],i[o]]});c(s)})).catch((function(e){console.log(e),u(e)}))}))},u=function(e){var t=e,n="";switch(t){case"stock":n="US";break;case"forex":n="oanda";break;case"crypto":n="binance";break;default:t="stock",n="US"}return new Promise((function(e,a){var o="https://finnhub.io/api/v1/"+t+"/symbol?exchange="+n+r.a;i.a.get(o).then((function(t){for(var n=[],a=t.data,i=0;i<a.length;i++){var r=a[i].symbol;n.push({key:i,value:r,displayValue:r+" "+a[i].description})}e(n)})).catch((function(e){a(e)}))}))},l=function(e){return(new Date(e).getTime()/1e3).toString()},s=function(e,t,n,a){return new Promise((function(c,u){var l=o+e+"&resolution="+t+"&from="+n+"&to="+a+r.a;i.a.get(l).then((function(e){var t=0,n=0,a=e.data.c;console.log(a);for(var i=[],r=0;r<a.length;r++)r!==a.length-1&&(t+=(a[r+1]-a[r])/a[r]*100,i.push((a[r+1]-a[r])/a[r]*100),n+=1);var o=t/n,u=d(i);console.log(i),console.log("stDev"+u),console.log("ER"+o),c([o,u])})).catch((function(e){u(e)}))}))},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.reduce((function(e,t){return e+t}),0)/e.length;return Math.sqrt(e.reduce((function(e,t){return e.concat(Math.pow(t-n,2))}),[]).reduce((function(e,t){return e+t}),0)/(e.length-(t?0:1)))},f=function(e){var t=" https://finnhub.io/api/v1/stock/option-chain?symbol="+e+r.a;return console.log(t),new Promise((function(e,n){i.a.get(t).then((function(t){for(var n=[],a=t.data.data,i=0;i<a.length;i++)n.push({key:i,value:a[i].expirationDate,displayValue:a[i].expirationDate});e(n)})).catch((function(e){console.log(e),n(e)}))}))},h=function(e,t,n,a){var o="https://finnhub.io/api/v1/stock/option-chain?symbol="+e+r.a;return new Promise((function(e,r){i.a.get(o).then((function(i){for(var r=i.data.data,o=[],c=0;c<r.length;c++)if(0===t.localeCompare(r[c].expirationDate)){o=a?r[c].options[n]:r[c].options.CALL;break}e(o)})).catch((function(e){r(e)}))}))},p=function(e){var t="https://finnhub.io/api/v1/quote?symbol="+e+r.a;return new Promise((function(e,n){i.a.get(t).then((function(t){var n={priceClose:t.data.pc,date:new Date(t.data.t).toDateString()};e(n)})).catch((function(e){n(e)}))}))}}}]);
//# sourceMappingURL=12.c5ed9390.chunk.js.map